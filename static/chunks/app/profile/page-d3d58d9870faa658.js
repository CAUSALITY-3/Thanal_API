(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{3718:function(e,t,n){Promise.resolve().then(n.bind(n,2509))},7907:function(e,t,n){"use strict";var o=n(5313);n.o(o,"redirect")&&n.d(t,{redirect:function(){return o.redirect}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},2329:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});let o={PRODUCT_MAINLIST:"products/productMainList",GET_PRODUCT_BY_ID:"products/product",UPSERT_USER:"users/upsertUser",UPDATE_USER_BY_QUERY:"users/update",GET_USER_BY_EMAIL:"users/getUserByEmail",GET_IMAGES:"images/getImageNames",PRODUCT_FAMILY:"products/getAllUnderFamily",GET_ORDER_ID:"payments/createOrder",ADD_TO_BAG:"users/addToBag",GET_USER_DETAILS:"auth/getUserDetails",VERIFY_ORDER:"payments/verifyPayment"};var l=n(9079);let r={ERROR:31,INFO:32,WARN:33};function i(e,t,n){"true"!==l.env.DISABLED_LOGS&&console.log("\x1b[".concat(r[e]||33,"m%s\x1b[0m"),"[".concat(e||"INFO","] ").concat(new Date().toLocaleString()," : ").concat(n||"","=>"),JSON.stringify(t))}var a=n(1800),s=n(3810),u=n(9079);let c="http://localhost:5000/thanalApi/";async function d(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,f="",v="object"==typeof document;if(v){let e=window.location.href;console.log({baseUrl:c=new URL(e).origin+"/thanalApi/"}),console.log("isBrowser",v)}try{let d=c+o[t]+l,g={method:e,headers:u,body:r,next:{revalidate:null==n?void 0:n.revalidate,tags:null==n?void 0:n.tags}};if(v){let e=v?(0,s.ej)("user"):null;if(e){let t=JSON.parse(e);f=null==t?void 0:t.updatedAt}}i("INFO",{url:d,...g},"calling DB service, http options ");let p=await fetch(d,g);if(!p.ok)throw Error("Network response was not ok");let m=await p.json();if(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let t of e)(0,a.revalidatePath)(t);for(let e of t)(0,a.revalidateTag)(e)}(null==n?void 0:n.revalidatePaths,null==n?void 0:n.revalidateTags),i("INFO",m,"Successful response from DB service, responseData "),v){let e=v?(0,s.ej)("user"):null;if(e){let t=JSON.parse(e);f!==(null==t?void 0:t.updatedAt)&&(0,s.Is)("user")}}return m}catch(e){if(console.log("Sasi",e),i("ERROR",e,"Error on DB service call, error "),d)return d;throw e}}u.env.API_TIME_OUT},2509:function(e,t,n){"use strict";n.r(t);var o=n(7437);n(2265),n(4139);var l=n(3810),r=n(7907);t.default=()=>{let e=(0,l.ej)("user"),t=e?JSON.parse(e):null;return(console.log("raman",e),(null==t?void 0:t.name)||"object"!=typeof document)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"profileImage",children:(0,o.jsx)("img",{loading:"lazy",src:null==t?void 0:t.profilePic,alt:""})}),(0,o.jsxs)("div",{className:"profileDetails",children:[(0,o.jsx)("div",{className:"profileName",children:null==t?void 0:t.name}),(0,o.jsx)("div",{className:"profileEmail",children:null==t?void 0:t.email})]})]}):(0,r.redirect)("/login")}},3810:function(e,t,n){"use strict";n.d(t,{Is:function(){return a},ej:function(){return l},vu:function(){return i}});var o=n(2329);function l(e){var t,n;if("object"!=typeof document||!document)return null;let o="; ".concat(null===(t=document)||void 0===t?void 0:t.cookie);console.log("&&&&&",o);let l=null==o?void 0:o.split("; ".concat(e,"="));if(2===l.length){let e=null===(n=l.pop())||void 0===n?void 0:n.split(";").shift();return e?decodeURIComponent(e):null}return null}async function r(e){return await (0,o.k)("get","GET_USER_DETAILS",{},"?email=".concat(e.email,"&updatedAt=").concat(e.updatedAt))}async function i(){let e=l("user");if(console.log("!!!!!!!!!",typeof e,{user:e}),e)return e;if("object"!=typeof document||!localStorage)return null;let t=localStorage.getItem("user");if(console.log("!!!!!!!!!",{data:t}),!t)return null;let{newData:n,loginRequired:o,cache:i}=await r(JSON.parse(t));return n?(localStorage.setItem("user",JSON.stringify(i)),JSON.stringify(i)):o?null:JSON.stringify(i)}function a(e){let t=l(e);return t?(localStorage.setItem("user",t),t):null}},4139:function(){}},function(e){e.O(0,[800,971,69,744],function(){return e(e.s=3718)}),_N_E=e.O()}]);