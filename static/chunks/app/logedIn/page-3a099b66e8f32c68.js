(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{7846:function(e,t,n){Promise.resolve().then(n.bind(n,182))},7907:function(e,t,n){"use strict";var o=n(5313);n.o(o,"redirect")&&n.d(t,{redirect:function(){return o.redirect}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},2329:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});let o={PRODUCT_MAINLIST:"products/productMainList",GET_PRODUCT_BY_ID:"products/product",UPSERT_USER:"users/upsertUser",UPDATE_USER_BY_QUERY:"users/update",GET_USER_BY_EMAIL:"users/getUserByEmail",GET_IMAGES:"images/getImageNames",PRODUCT_FAMILY:"products/getAllUnderFamily",GET_ORDER_ID:"payments/createOrder",ADD_TO_BAG:"users/addToBag",GET_USER_DETAILS:"auth/getUserDetails",VERIFY_ORDER:"payments/verifyPayment"};var r=n(9079);let l={ERROR:31,INFO:32,WARN:33};function i(e,t,n){"true"!==r.env.DISABLED_LOGS&&console.log("\x1b[".concat(l[e]||33,"m%s\x1b[0m"),"[".concat(e||"INFO","] ").concat(new Date().toLocaleString()," : ").concat(n||"","=>"),JSON.stringify(t))}var u=n(1800),a=n(3810),c=n(9079);let s="http://localhost:5000/thanalApi/";async function d(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,f="",g="object"==typeof document;if(g){let e=window.location.href;console.log({baseUrl:s=new URL(e).origin+"/thanalApi/"}),console.log("isBrowser",g)}try{let d=s+o[t]+r,v={method:e,headers:c,body:l,next:{revalidate:null==n?void 0:n.revalidate,tags:null==n?void 0:n.tags}};if(g){let e=g?(0,a.ej)("user"):null;if(e){let t=JSON.parse(e);f=null==t?void 0:t.updatedAt}}i("INFO",{url:d,...v},"calling DB service, http options ");let p=await fetch(d,v);if(!p.ok)throw Error("Network response was not ok");let E=await p.json();if(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let t of e)(0,u.revalidatePath)(t);for(let e of t)(0,u.revalidateTag)(e)}(null==n?void 0:n.revalidatePaths,null==n?void 0:n.revalidateTags),i("INFO",E,"Successful response from DB service, responseData "),g){let e=g?(0,a.ej)("user"):null;if(e){let t=JSON.parse(e);f!==(null==t?void 0:t.updatedAt)&&(0,a.Is)("user")}}return E}catch(e){if(console.log("Sasi",e),i("ERROR",e,"Error on DB service call, error "),d)return d;throw e}}c.env.API_TIME_OUT},182:function(e,t,n){"use strict";n.r(t);var o=n(7437),r=n(7907),l=n(3810);let i=async()=>{try{let e=await (0,l.vu)();return console.log("cookie",e),e&&localStorage.setItem("user",e),(0,o.jsx)("p",{onClick:()=>(0,r.redirect)("/"),children:e})}catch(e){return console.log(e),(0,r.redirect)("/")}};t.default=i},3810:function(e,t,n){"use strict";n.d(t,{Is:function(){return u},ej:function(){return r},vu:function(){return i}});var o=n(2329);function r(e){var t,n;if("object"!=typeof document||!document)return null;let o="; ".concat(null===(t=document)||void 0===t?void 0:t.cookie);console.log("&&&&&",o);let r=null==o?void 0:o.split("; ".concat(e,"="));if(2===r.length){let e=null===(n=r.pop())||void 0===n?void 0:n.split(";").shift();return e?decodeURIComponent(e):null}return null}async function l(e){return await (0,o.k)("get","GET_USER_DETAILS",{},"?email=".concat(e.email,"&updatedAt=").concat(e.updatedAt))}async function i(){let e=r("user");if(console.log("!!!!!!!!!",typeof e,{user:e}),e)return e;if("object"!=typeof document||!localStorage)return null;let t=localStorage.getItem("user");if(console.log("!!!!!!!!!",{data:t}),!t)return null;let{newData:n,loginRequired:o,cache:i}=await l(JSON.parse(t));return n?(localStorage.setItem("user",JSON.stringify(i)),JSON.stringify(i)):o?null:JSON.stringify(i)}function u(e){let t=r(e);return t?(localStorage.setItem("user",t),t):null}}},function(e){e.O(0,[800,971,69,744],function(){return e(e.s=7846)}),_N_E=e.O()}]);